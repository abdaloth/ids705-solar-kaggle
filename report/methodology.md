## Abstract

[150 words maximum] This should be the one paragraph that captures the significance of what you did and why you did it

## Introduction.

(Provide a description of the problem and the value in finding a solution, motivate your reader as to why he/she should care about this question. The idea is to get your reader excited about the solution you are about to present.)

We all need electrical energy to survive and to live comfortably, and each human requires approximately 3,000W of energy per year[^](Khare, Ayush. "A Critical Review on the Efficiency Improvement of Upconversion Assisted Solar Cells." Journal of Alloys and Compounds 821 (2020/04/25/ 2020): 153214. https://doi.org/https://doi.org/10.1016/j.jallcom.2019.153214.). This need for energy cannot forever be satisfied with non-renewable fossil fuels. There is also strong evidence that the production of energy by humans is a key factor driving global climate change (IPCC Fifth Assessment Report, 2014, https://www.ipcc.ch/site/assets/uploads/2018/02/AR5_SYR_FINAL_SPM.pdf). Consequently, we need to look for sources of renewable energy. Renewable energy refers to energy generated by wind, the sun, the movement of water,or the burning of biomass. They express major technological evolutions compared to traditional fossil fuel energy[^](Lund, Henrik. "Renewable Energy Strategies for Sustainable Development." Energy 32, no. 6 (2007/06/01/ 2007): 912-19. https://doi.org/https://doi.org/10.1016/j.energy.2006.10.017. http://www.sciencedirect.com/science/article/pii/S036054420600301X.), such as clean source, large-scale, higher energy transfer efficiency, and also renewable. Among those renewable energy sources, solar energy is the one that is most appealing to researchers and has already been investigated into the application stage. Solar energy is great alternative energy to natural gas because 1) solar radiation is readily accessible in almost all areas around the world, while wind and hydroelectric energy require a certain geographic conditions; 2) the amount of solar radiation is huge and could satisfy the needs of the population; 3) the conversion rates of solar energy to electrical energy are relatively high and have been investigated for more than 40 years[^]( Bard, Allen J. "Design of Semiconductor Photoelectrochemical Systems for Solar Energy Conversion." The Journal of Physical Chemistry 86, no. 2 (1982/01/01 1982): 172-77. https://doi.org/10.1021/j100391a008.).


There are currently three major forms of solar energy: solar thermal, solar photovoltaic (PV) and photovoltaic–thermal (PV/T)[^](Good, Clara, Inger Andresen, and Anne Grete Hestnes. "Solar Energy for Net Zero Energy Buildings – a Comparison between Solar Thermal, Pv and Photovoltaic–Thermal (Pv/T) Systems." Solar Energy 122 (2015/12/01/ 2015): 986-96. https://doi.org/https://doi.org/10.1016/j.solener.2015.10.013.). Solar thermal converts solar radiation mostly to heat, and solar PV is a technology that converts solar energy into electrical energy using semiconductors. [^](https://www.studentenergy.org/topics/solar-pv). Hybrid PV/T modules generate heat and electricity simultaneously. Solar PV is a preferable approach since the storage of electrical energy is easier compared to thermal energy. Moreover, solar PV could take advantage of the current energy transmission system, making the transition from natural gas energy sources to solar energy sources easier and cheaper. However, PV modules convert only around 10\%-20\% of the solar radiation into electrical energy, therefore, a further investigation of improving PV modules efficiency is required.

Currently, solar PVs are widely used in building applications, and gathering information on solar PV usage is extremely important to study potential issues or improvements. However, traditional surveys and utility interconnection filings are not suitable in this case since they include large amounts of data that would be complex to merge and analyze. Such traditional approaches are ultimately slow and expensive[^](Malof, Jordan M., Kyle Bradbury, Leslie M. Collins, and Richard G. Newell. "Automatic Detection of Solar Photovoltaic Arrays in High-Resolution Aerial Imagery." Applied Energy 183 (2016/12/01/ 2016): 229-40. https://doi.org/https://doi.org/10.1016/j.apenergy.2016.08.191). With the development of public available high-resolution satellite collected images, a faster and more accurate method could be used to collect solar PV information.

Satellite data has opened up a new way of us looking into the world, but it also brings in new challenges such as extracting useful information from massive data. In this report, we will explore potential computer algorithms to automatically recognize PV panel information from high-resolution color aerial imagery. Accurately identifying PV panels from aerial imagery could assist researchers in identifying global solar panel placement trends as well as helping determine if panels are being optimally placed.

## Background.

Computer algorithms have been used to identify solar panels in the past. Jordan M. Malof and his colleagues suggested a new approach to detect rooftop solar PV in aerial imagery using computer vision algorithms.[^](Malof, J. M., Hou Rui, L. M. Collins, K. Bradbury, and R. Newell. "Automatic Solar Photovoltaic Panel Detection in Satellite Imagery." Paper presented at the 2015 International Conference on Renewable Energy Research and Applications (ICRERA), 22-25 Nov. 2015 2015.) They used house images from the U.S. Geological Survey (USGS). “The imagery was collected over the city of Lemoore, CA during 2014 at a resolution of 0.3m, and with 8-bit resolution in each color channel.” They manually chose 100 images, 50 that contained rooftop PV installations and 50 that did not contain rooftop PV installations. Each figure was cropped to a rectangular region containing the rooftop and the surrounding area. The decision algorithm consisted of two parts: prescreening and feature processing. Prescreening first converts all images into grayscale and reduced the region by removing the lowest 30\% of pre-screener confidence values. The features examined here include foreground color, background color, and shape features. Then a support vector machine (SVM) classifier was utilized to generate the final list of detected regions. They suggested that their work could be possibly used to estimate power capacity and energy production in a fast, scalable and cheap method.

From their work, we can conclude that the first step of using aerial imagery data in solar PV involves feature extraction, classifier, and object detection. Feature extractions can be accomplished by several different algorithms, however, the main principle in feature extraction is extracting image features, and effectively mapping the 3 channel (RGB) images into  lower-dimensional data. As for classifiers, besides the SVM mentioned above, Jordan M. Malof and his colleagues used a trained random forest classifier into the same dataset[^](Malof, Jordan M., Kyle Bradbury, Leslie M. Collins, and Richard G. Newell. "Automatic Detection of Solar Photovoltaic Arrays in High-Resolution Aerial Imagery." Applied Energy 183 (2016/12/01/ 2016): 229-40. https://doi.org/https://doi.org/10.1016/j.apenergy.2016.08.191.), they found out that this classifier was also effective at detecting PV panel in aerial images.

Another study, conducted by researchers at Stanford University, aimed to tackle a similar problem: determining the distribution of solar panels using satellite imagery. This study went a step further- the researchers used their algorithm to create a national solar panel database. They then used this database to identify demographic and economic features that were associated With the presence of solar panels. Perhaps most interestingly, they found
"a solar radiation threshold (4.5 kWh/m2
/day) above which the solar deployment is triggered."  These predictors were then used to produce a model to predict the presence of solar panels.


Citation   - DeepSolar: A Machine Learning Framework to Efficiently Construct a Solar Deployment Database in the United States
http://www.sciencedirect.com/science/article/pii/S2542435118305701


## Data.

The data we used in this analysis is similar to the data mentioned in the background section. The images are of 101\*101 pixels and are in 3 channels (RGB). All the images contain the rooftop of houses and some surrounding areas. The data is divided into training and test, with the training data containing 1500 images and test containing 558 images. We will train our decision algorithms on training data, and then test our algorithm performance on test data.
figure 1 (images with PV solar, and images without PV solar)
figure 2 feature extraction
figure 3 object detection


## Methodology

In the preceding sections, we contextualized the problem we were trying to solve, namely, identifying satellite images which contained solar panels.

From a technical standpoint, this constitutes a binary classification problem. The input to this problem are images which are labelled as belonging to either one of two classes:

* The class of images which _do_ have a solar panel in them;
* The class of images that _do not_ have a solar panel in them.

Methodologies to solve this problem distinguish themselves, primarily, by the way in which they transform the images into a set of meaningful features for classification and, moreover, by the manner by which they use these features to do the actual classification task.

We have tackled this problem with a four different methods:

1. Pre-processing data using a Histogram of Oriented Gradients (HOG) approach and, subsequently, classifying features using a Support Vector Machine (SVM) classifier;

2. Pre-processing data using Canny Edge Detection and, subsequently, classifying features using a Support Vector Machine (SVM) classifier.

3. Convolutional Neural Network with Transfer Learning

4. Lorem Ipsum

In all such models, our output was the estimated probability that an image belonged to the class of images that presented a solar panel (as opposed to a sheer binary prediction of the class itself).

In the following subsections, we present each of the afore cited approaches in greater detail.

### HOG-SVM

In our first attempt to classify the satellite images, pre-processed the data using a HOG approach. Then, we used an SVM classifier to classify images in our two classes of interest.

A HOG transform identifies pixels whose values are substantially different than their neighbouring pixels, thereby suggesting that they mark the edge of some object.

The intensity of most things change smoothly and continuously. When two different objects are juxtaposed, however, the intensity of their pixels may change abruptly in their borders. Hence, identifying large gradients in pixel intensity is an approach by which edges may be recognized. This, in turn, can be used to convey information about the existence of a solar panel in an image.

An SVM classifier, in its turn, separates classes by identifying the threshold which maximizes the distance between both classes to the threshold. One can think of identifying two parallel thresholds which separate both classes while being as far apart from each other as possible.

Both HOG and SVM are widely used techniques, both individually[^1](e.g. Google, 2011, Person Following using Histogram of Oriented Gradients. Available at https://patentimages.storage.googleapis.com/c6/2f/0e/e2c41049da1711/US20110026770A1.pdf) and combined[^2](e.g. Rajiv Kapoor, Rashmi Gupta, Le Hoang Son, Sudan Jha, Raghvendra Kumar,
Detection of Power Quality Event using Histogram of Oriented Gradients and Support Vector Machine, Measurement, Volume 120, 2018, Pages 52-75, ISSN 0263-2241, https://doi.org/10.1016/j.measurement.2018.02.008; Dadi, H. S., & Pillutla, G. K. M. (2016). Improved face recognition rate using HOG features and SVM classifier. IOSR Journal of Electronics and Communication Engineering, 11(4), 34-44.). For these reasons, we chose to use them.

In more technical terms, we performed a HOG transformation using cells of sizes 16 by 16 and blocks of sizes 2 by 2. We used the `get_hog` function from package `utils`.

For the classification part, we used the `SVC` class from `scikit-learn` , with a regularization parameter of 10. Our output, as in all models we developed, was the predicted probability that the image pertained to the class of images that contained a solar panel.

We evaluated the performance of our model using 5-fold stratified cross-validation and analysing the ROC curve.

### Canny Edge Detection SVM
Our second approach used a different type of pre-preocessing called Canny Edge Detection.

Canny edge detection is a 5-step process that extracts edges from an image.

This technique does not work well with high amounts of noise. Removal of the noise improves the algorithm's performance. The first step is gaussian filtering, which "blurs" the image and reduces noise while keeping the edges intact. After filtering, the intensity gradient of the image is calculated. Edges are associated with changes in pixel intensity, so this gradient allows us to identify preliminary edges. However, at this point, the image produces has edges that vary wildly in thickness. Thinner and more consistent edges are better for image classification, so the algorithm corrects for this using non-maximum suppression. Non-maximum suppression 

 We selected this technique because it appears that solar panels have obvious and straight edges. A solar panel on a residential home  (after edge detection) could look like boxes inside a box.


J. Canny, "A Computational Approach to Edge Detection," in IEEE Transactions on Pattern Analysis and Machine Intelligence, vol. PAMI-8, no. 6, pp. 679-698, Nov. 1986.
### Transfer Learning

Convolutional neural networks are a mainstream technique in image classification. Its popularity stems not only from its remarkable accuracy, but also from its ability to create its own features, so to speak. In the words of Zagoruyko and Komodakis (2015, p.4353) [^](Zagoruyko, S., & Komodakis, N. (2015). Learning to compare image patches via convolutional neural networks. In Proceedings of the IEEE conference on computer vision and pattern recognition (pp. 4353-4361).), CNNs can

>"learn directly from image
data (i.e., without resorting to manually-designed features)
a general similarity function for comparing image patches,
which is a task of fundamental importance for many computer vision problems"

We thus do not need to pre-process the image using HOG or other similar technique in order to identify edges, corners or other features for our analysis [^](To be fair, Simonyan, K., & Zisserman, A. [2014] subtract the mean RGB from each pixel value, so there is _some_ pre-processing, but much less than other non-neural network based techniques).

Moreover, rather than flattening out an image into an array of pixels -- thereby losing information on which pixels neighbour each other, -- CNNs retain information on each pixel's location. To see the relevance of this fact, it suffices to note that shuffling an images' pixels changes it completely and, indeed, it has recently been shown that changing a single pixel can be enough to fool a neural network in some cases[^](see Su, J., Vargas, D. V., & Sakurai, K. (2019). One pixel attack for fooling deep neural networks. IEEE Transactions on Evolutionary Computation, 23(5), 828-841.)

CNNs consider each image in their entirety and, therefore, have been shown to perform better than many other approaches in image classification and computer vision.

The kind of CNN we use in our approach is a VGG16 [^](Simonyan, K., & Zisserman, A. (2014). Very deep convolutional networks for large-scale image recognition. arXiv preprint arXiv:1409.1556.).

As the name suggests, this is a 16 layer CNN. The many deep layers of this neural network, allied with the small 3 x 3 [^](We say small, but we could have said minimal, since a 3 x 3 filter is the smallest dimension possible to capture the notions of up/down, left/right) receptive field it uses, made the VGG16 far more efficient in classifying images than pre-existing neural networks.

The activation function of these 16 layers is a Rectified Linear Unit (ReLU) function, except on the output layer, where we use a sigmoid. For the last two layers before the output layer, we use dense layers with dropout rates of 0.5 and 0.3 respectively. We use dropout to help our neural network prevent overfitting.

We set our neural network to minimize a cross-entropy loss function using the Adam optimization algorithm [^](Kingma, D. P., & Ba, J. (2014). Adam: A method for stochastic optimization. arXiv preprint arXiv:1412.6980.). We use a batch size of 128 and train our model for 50 epochs.





Unfortunately, however, training a VGG16 CNN takes a very long time. We thus decided to employ it under a transfer learning approach.

Transfer learning occurs when





It takes as input an RGB image of size $101 \times 101 \times 3$ RGB image and passes it through the convolution layers mentioned above. In each layer,



### (Method 4)

## Conclusions.

compare different models and evaluate what did good, what did not so good

suggest other techniques

future analysis
